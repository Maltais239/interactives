<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Interactive Flashcards</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet" />
  <style>
    body { margin: 0; font-family: 'Montserrat', sans-serif; background: linear-gradient(135deg, #f5f3ff, #ede9fe); display: flex; flex-direction: column; align-items: center; padding: 40px 20px; }
    .flashcard-wrapper { margin-bottom: 10px; }
    .flashcard-container { width: 320px; height: 200px; perspective: 1000px; }
    .flashcard { width: 100%; height: 100%; position: relative; transform-style: preserve-3d; transition: transform 0.8s ease; cursor: pointer; }
    .flashcard.is-flipped { transform: rotateY(180deg); }
    .flashcard-face { width: 100%; height: 100%; position: absolute; top: 0; left: 0; backface-visibility: hidden; display: flex; align-items: center; justify-content: center; padding: 20px; box-sizing: border-box; border-radius: 16px; box-shadow: 0 4px 16px rgba(0,0,0,0.1); font-size: 1.4rem; overflow-wrap: break-word; text-align: center; }
    .front { background-color: #a78bfa; color: white; }
    .back { background-color: #e0f7fa; color: black; transform: rotateY(180deg); }
    .progress { margin-bottom: 20px; font-weight: 600; color: #6b21a8; font-size: 1.4rem; }
    .controls { text-align: center; margin-bottom: 20px; }
    button { background: #f472b6; color: #fff; border: none; padding: 10px 20px; border-radius: 10px; cursor: pointer; margin: 10px 5px; font-size: 1.2rem; }
    button:hover { background: #ec4899; }
    .input-area { display: none; flex-direction: column; align-items: center; margin-bottom: 20px; }
    textarea { width: 300px; height: 220px; padding: 10px; font-size: 1rem; margin-bottom: 10px; border-radius: 10px; border: 1px solid #ccc; white-space: pre-wrap; }
  </style>
</head>
<body>
  <div class="flashcard-wrapper">
    <div class="flashcard-container">
      <div class="flashcard" id="flashcard">
        <div class="flashcard-face front" id="term"></div>
        <div class="flashcard-face back" id="definition"></div>
      </div>
    </div>
  </div>
  <div class="progress" id="progress">Card 1 of 5</div>
  <div class="controls">
    <button onclick="prevCard()">Previous</button>
    <button onclick="flipCard()">Flip</button>
    <button onclick="nextCard()">Next</button>
    <button onclick="toggleInputArea()">Generate Your Own</button>
    <button onclick="resetFlashcards()">Reset Flashcards</button>
  </div>
  <div class="input-area" id="inputArea">
    <textarea id="userInput"></textarea>
    <button onclick="generateCards()">Load Flashcards</button>
  </div>

  <script>
    const defaultCards = [
      { term: 'Particle model of matter', def: 'A scientific idea that all matter is made of tiny particles in constant motion.' },
      { term: 'Particle', def: 'A very small piece of matter (like an atom or molecule).' },
      { term: 'Temperature', def: 'A measure of how hot or cold something is, based on how fast its particles move.' },
      { term: 'Heating', def: 'Adding thermal energy to a substance so its particles move faster.' },
      { term: 'Cooling', def: 'Removing thermal energy from a substance so its particles move slower.' }
    ];

    let cards = [...defaultCards];
    let currentIndex = 0;

    const flashcard = document.getElementById('flashcard');
    const termEl = document.getElementById('term');
    const definitionEl = document.getElementById('definition');
    const progressEl = document.getElementById('progress');
    const inputArea = document.getElementById('inputArea');
    const userInput = document.getElementById('userInput');

    function loadCard(index) {
      termEl.textContent = cards[index].term;
      definitionEl.textContent = cards[index].def;
      flashcard.classList.remove('is-flipped');
      progressEl.textContent = `Card ${index + 1} of ${cards.length}`;
    }

    function nextCard() {
      currentIndex = (currentIndex + 1) % cards.length;
      loadCard(currentIndex);
    }

    function prevCard() {
      currentIndex = (currentIndex - 1 + cards.length) % cards.length;
      loadCard(currentIndex);
    }

    function flipCard() {
      flashcard.classList.toggle('is-flipped');
    }

    function toggleInputArea() {
      if (inputArea.style.display === 'flex') {
        inputArea.style.display = 'none';
      } else {
        inputArea.style.display = 'flex';
        userInput.value = `Particle model of matter\nA scientific idea that all matter is made of tiny particles in constant motion.\n\nParticle\nA very small piece of matter (like an atom or molecule).\n\nTemperature\nA measure of how hot or cold something is, based on how fast its particles move.\n\nHeating\nAdding thermal energy to a substance so its particles move faster.`;
      }
    }

    function generateCards() {
      const text = userInput.value.trim();
      const entries = text.split(/\n\n+/).map(block => block.trim());
      const newCards = [];
      for (let i = 0; i < entries.length; i++) {
        const parts = entries[i].split(/\n/);
        if (parts.length >= 2) {
          newCards.push({ term: parts[0].trim(), def: parts.slice(1).join(' ').trim() });
        }
      }
      if (newCards.length > 0) {
        cards = newCards;
        currentIndex = 0;
        loadCard(currentIndex);
        toggleInputArea();
      } else {
        alert('Please format terms and definitions properly with a blank line between pairs!');
      }
    }

    function resetFlashcards() {
      cards = [...defaultCards];
      currentIndex = 0;
      loadCard(currentIndex);
    }

    flashcard.addEventListener('click', flipCard);

    loadCard(currentIndex);
  </script>
</body>
</html>
