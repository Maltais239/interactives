
<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8" />
 <meta name="viewport" content="width=device-width, initial-scale=1.0" />
 <title>Sorting Game ‚Äì Community Features</title>
 <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet" />
 <style>
   /* ----------  CORE LAYOUT  ---------- */
   :root {
     --bg: #4b6584; /* Deep slate blue */
     --panel: #f1f2f6; /* Soft light grey */
     --btn: #20bf6b; /* Green for growth/community */
     --btn-hover: #26de81;
     --zone-border: #4b6584;
     --zone-bg-hover: #d1d8e0;
     --text-light: #ffffff;
     --text-dark: #2d3436;
     --item-label-color: #4b5563;
   }
   *{box-sizing:border-box;}
   body{
     margin:0; font-family:'Poppins',sans-serif; background:var(--bg);
     display:flex; flex-direction:column; align-items:center; padding:20px;
     overscroll-behavior: none;
   }
   h1{font-size:2.2rem;color:var(--text-light);margin:5px 0; text-align: center;}
   p{color:var(--text-light);margin:0 0 20px; text-align: center; max-width: 600px;}


   .game-container{
     background:var(--panel); width:100%; max-width:900px; padding:20px; border-radius:12px;
     position: relative;
     box-shadow: 0 10px 30px rgba(0,0,0,0.3);
   }


   /* ----------  DRAG ITEMS  ---------- */
   #items-container{
       display:flex;flex-wrap:wrap;gap:12px;justify-content:center;margin-bottom:20px;
       padding: 15px; background-color: rgba(255,255,255,0.8); border-radius: 8px;
       min-height: 130px;
       border: 2px solid #ced6e0;
   }
   .item{
     width:100px;
     min-height:110px;
     background:#fff;display:flex;flex-direction:column;
     align-items:center;justify-content:center;
     border-radius:10px;box-shadow:0 4px 6px rgba(0,0,0,0.1);cursor:grab;
     touch-action: none;
     user-select: none;
     position: relative;
     transition: transform 0.2s, box-shadow 0.2s;
     padding: 8px;
   }
   .item img {
     pointer-events: none;
     width: 55px;
     height: 55px;
     margin-bottom: 6px;
   }
   .item-label {
     pointer-events: none;
     font-size: 0.75rem;
     font-weight: 600;
     color: var(--item-label-color);
     text-align: center;
     line-height: 1.1;
   }


   .item.dragging {
     opacity: 0.8;
     cursor: grabbing;
     position: absolute;
     z-index: 1000;
     transform: scale(1.1);
   }
   .item.native-dragging { opacity: 0.3; }


   /* ----------  DROP ZONES  ---------- */
   .zones-container{
       display:grid;grid-template-columns:repeat(auto-fit, minmax(300px, 1fr));
       gap:20px;margin-bottom:20px;
   }
   .zone-wrapper { display: flex; flex-direction: column; }
   .zone-label{font-weight:700;margin-bottom:10px;color:var(--text-dark); text-align: center; font-size: 1.2rem;}
   .drop-zone{
     width:100%;min-height:250px;
     background:#fff;border:3px dashed var(--zone-border);border-radius:12px;
     padding:15px;display:flex;flex-wrap:wrap;gap:10px;align-content:flex-start;
     transition:background .3s;
   }
   .drop-zone.over{background:var(--zone-bg-hover); border-style: solid;}


   /* ----------  CONTROLS  ---------- */
   .controls{text-align:center;}
   .controls button{
     background:var(--btn);color:var(--text-light);border:none;padding:12px 30px;border-radius:8px;cursor:pointer;
     margin:10px 5px;font-size:1.1rem;font-weight:600;transition: all 0.2s;
     box-shadow: 0 4px 0px #1a9c58;
   }
   .controls button:hover{background:var(--btn-hover); transform: translateY(-1px);}
   .controls button:active{transform: translateY(3px); box-shadow: 0 1px 0px #1a9c58;}


   #message-area {
       text-align: center;
       margin-top: 15px;
       font-size: 1.2rem;
       font-weight: 600;
       min-height: 1.5em;
   }
 </style>
</head>
<body>
 <h1>Natural vs. Constructed</h1>
 <p>Is it a natural feature of the Earth or a constructed landmark built by people? Drag them to the right box!</p>


 <div class="game-container">
   <div id="items-container"></div>


   <div class="zones-container">
     <div class="zone-wrapper">
       <div class="zone-label">üåø Natural Features</div>
       <div id="natural" class="drop-zone" aria-label="Natural Features drop zone"></div>
     </div>
     <div class="zone-wrapper">
       <div class="zone-label">üèóÔ∏è Constructed Landmarks</div>
       <div id="constructed" class="drop-zone" aria-label="Constructed Landmarks drop zone"></div>
     </div>
   </div>


   <div class="controls">
     <button id="check-btn" type="button">Check Answers</button>
     <button id="reset-btn" type="button">Start Over</button>
   </div>
   <div id="message-area"></div>
 </div>


 <script>
 document.addEventListener('DOMContentLoaded', () => {
   const om = code => `https://cdn.jsdelivr.net/npm/openmoji@14.0.0/color/svg/${code}.svg`;


   const ICONS_DATA = {
     // Natural Features
     mountains: { src: om('1F3D4'), alt: 'Mountains', category: 'natural' },
     forest:    { src: om('1F332'), alt: 'Forest', category: 'natural' },
     prairie:   { src: om('1F33E'), alt: 'Prairie', category: 'natural' },
     river:     { src: om('1F3DE'), alt: 'River', category: 'natural' },
     lake:      { src: om('1F3DD'), alt: 'Lake', category: 'natural' },
    
     // Constructed Landmarks
     buildings: { src: om('1F3D9'), alt: 'Buildings', category: 'constructed' },
     park:      { src: om('1F3DE'), alt: 'Park', category: 'constructed' }, // National park icon used for park
     road:      { src: om('1F6E3'), alt: 'Road', category: 'constructed' },
     pathway:   { src: om('1F6B5'), alt: 'Pathway', category: 'constructed' },
     bridge:    { src: om('1F309'), alt: 'Bridge', category: 'constructed' }
   };


   const ITEMS = Object.keys(ICONS_DATA).map((key, index) => ({
       id: `item-${key}-${index}`,
       htmlContent: `<img src="${ICONS_DATA[key].src}" alt="${ICONS_DATA[key].alt}"><span class="item-label">${ICONS_DATA[key].alt}</span>`,
       category: ICONS_DATA[key].category
   }));


   const itemsContainer = document.getElementById('items-container');
   const dropZones = document.querySelectorAll('.drop-zone');
   const gameContainer = document.querySelector('.game-container');
   const messageArea = document.getElementById('message-area');


   let pointerDraggedItem = null;
   let offsetX = 0, offsetY = 0;
   let currentOverZone = null;
   let isTouchDragging = false;


   function initializeGame() {
       itemsContainer.innerHTML = '';
       dropZones.forEach(zone => {
           zone.innerHTML = '';
           zone.classList.remove('over');
           zone.style.border = '';
       });
       messageArea.textContent = '';


       const shuffledItems = [...ITEMS].sort(() => Math.random() - 0.5);


       shuffledItems.forEach(itemData => {
           const card = document.createElement('div');
           card.className = 'item';
           card.draggable = true;
           card.id = itemData.id;
           card.dataset.category = itemData.category;
           card.innerHTML = itemData.htmlContent;
          
           card.addEventListener('dragstart', handleDragStartMouse);
           card.addEventListener('dragend', handleDragEndMouse);
           card.addEventListener('pointerdown', handlePointerDown);
           itemsContainer.appendChild(card);
       });
   }


   // --- Drag & Drop Logic (Universal Support) ---


   function handleDragStartMouse(e) {
     if (e.pointerType !== 'touch') {
         e.dataTransfer.setData('text/plain', e.currentTarget.id);
         setTimeout(() => e.target.classList.add('native-dragging'), 0);
     } else { e.preventDefault(); }
   }


   function handleDragEndMouse(e) {
       if (e.pointerType !== 'touch') {
           if (e.target) e.target.classList.remove('native-dragging');
           dropZones.forEach(zone => zone.classList.remove('over'));
       }
   }


   dropZones.forEach(zone => {
     zone.addEventListener('dragover', e => e.preventDefault());
     zone.addEventListener('drop', handleDropMouse);
   });


   function handleDropMouse(e) {
     e.preventDefault();
     const id = e.dataTransfer.getData('text/plain');
     const droppedElement = document.getElementById(id);
     if (droppedElement) {
         droppedElement.classList.remove('native-dragging');
         e.currentTarget.appendChild(droppedElement);
     }
     e.currentTarget.classList.remove('over');
   }


   function handlePointerDown(e) {
       if (e.button !== 0 || pointerDraggedItem) return;
       pointerDraggedItem = e.currentTarget;
       isTouchDragging = e.pointerType === 'touch';
       pointerDraggedItem.style.border = '';


       if (isTouchDragging) {
           e.preventDefault();
           pointerDraggedItem.setPointerCapture(e.pointerId);
           const rect = pointerDraggedItem.getBoundingClientRect();
           offsetX = e.clientX - rect.left;
           offsetY = e.clientY - rect.top;
           pointerDraggedItem.classList.add('dragging');
       }


       document.addEventListener('pointermove', handlePointerMove);
       document.addEventListener('pointerup', handlePointerUp);
       document.body.style.userSelect = 'none';
   }


   function handlePointerMove(e) {
       if (!pointerDraggedItem || !pointerDraggedItem.hasPointerCapture(e.pointerId)) return;


       if (isTouchDragging) {
           const gameRect = gameContainer.getBoundingClientRect();
           pointerDraggedItem.style.left = `${e.clientX - gameRect.left - offsetX}px`;
           pointerDraggedItem.style.top = `${e.clientY - gameRect.top - offsetY}px`;
       }


       const originalVisibility = pointerDraggedItem.style.visibility;
       pointerDraggedItem.style.visibility = 'hidden';
       let elementUnderPointer = document.elementFromPoint(e.clientX, e.clientY);
       pointerDraggedItem.style.visibility = originalVisibility;


       let dropTarget = elementUnderPointer ? elementUnderPointer.closest('.drop-zone') : null;


       if (currentOverZone && currentOverZone !== dropTarget) currentOverZone.classList.remove('over');
       if (dropTarget) {
           dropTarget.classList.add('over');
           currentOverZone = dropTarget;
       } else {
           currentOverZone = null;
       }
   }


   function handlePointerUp(e) {
       if (!pointerDraggedItem) return;


       if (isTouchDragging) {
           pointerDraggedItem.classList.remove('dragging');
           pointerDraggedItem.style.left = '';
           pointerDraggedItem.style.top = '';
           if (currentOverZone) {
               currentOverZone.appendChild(pointerDraggedItem);
               currentOverZone.classList.remove('over');
           } else {
               itemsContainer.appendChild(pointerDraggedItem);
           }
       }


       document.removeEventListener('pointermove', handlePointerMove);
       document.removeEventListener('pointerup', handlePointerUp);
       document.body.style.userSelect = '';
       pointerDraggedItem = null;
       currentOverZone = null;
   }


   // --- Game Logic ---


   document.getElementById('check-btn').addEventListener('click', () => {
       let allCorrect = true;
       let sortedCount = 0;


       ['natural', 'constructed'].forEach(zoneId => {
           const zone = document.getElementById(zoneId);
           Array.from(zone.children).forEach(item => {
               sortedCount++;
               const isCorrect = item.dataset.category === zoneId;
               item.style.border = isCorrect ? '4px solid #20bf6b' : '4px solid #eb3b5a';
               if (!isCorrect) allCorrect = false;
           });
       });


       const unsorted = itemsContainer.querySelectorAll('.item').length;


       if (unsorted > 0) {
           messageArea.textContent = `Keep going! ${unsorted} items are still waiting to be sorted.`;
           messageArea.style.color = '#f39c12';
       } else if (allCorrect && sortedCount === ITEMS.length) {
           messageArea.textContent = "Fantastic! You know your community features!";
           messageArea.style.color = '#20bf6b';
       } else {
           messageArea.textContent = "Oops! Some items are in the wrong spot. Try again!";
           messageArea.style.color = '#eb3b5a';
       }
   });


   document.getElementById('reset-btn').addEventListener('click', initializeGame);


   initializeGame();
 });
 </script>
</body>
</html>


