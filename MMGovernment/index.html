<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Systems of Government: Democracy in Canada</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        :root {
            --primary: #4338ca;
            --secondary: #059669;
            --accent: #f59e0b;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f3f4f6;
            color: #1f2937;
        }

        /* Interactive Elements Styles */
        .draggable-item {
            cursor: grab;
            transition: all 0.2s ease;
            user-select: none;
        }
        .draggable-item:active {
            cursor: grabbing;
            transform: scale(1.05);
        }
        .draggable-item.dragging {
            opacity: 0.5;
        }

        .drop-zone {
            transition: all 0.3s ease;
        }
        .drop-zone.drag-over {
            background-color: rgba(255, 255, 255, 0.9);
            border-color: var(--primary);
            transform: scale(1.02);
        }

        .match-card {
            cursor: pointer;
            transition: all 0.2s;
        }
        .match-card:hover {
            transform: translateY(-2px);
        }
        .match-card.selected {
            ring: 4px solid var(--accent);
            transform: scale(1.02);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        .match-card.matched {
            opacity: 0.5;
            pointer-events: none;
            filter: grayscale(100%);
        }

        /* Success Animation */
        @keyframes pop {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        .pop-anim {
            animation: pop 0.3s ease-out;
        }
    </style>
</head>
<body class="min-h-screen p-4 md:p-8">

    <!-- MAIN CONTAINER -->
    <div class="max-w-5xl mx-auto space-y-8">

        <!-- HERO SECTION -->
        <header class="bg-gradient-to-r from-indigo-700 to-indigo-500 text-white p-10 rounded-3xl shadow-lg relative text-center overflow-hidden">
            <!-- Decorative circles -->
            <div class="absolute top-0 left-0 w-32 h-32 bg-white opacity-10 rounded-full -translate-x-10 -translate-y-10"></div>
            <div class="absolute bottom-0 right-0 w-48 h-48 bg-white opacity-10 rounded-full translate-x-10 translate-y-10"></div>
            
            <h1 class="text-4xl md:text-5xl font-bold mb-4 relative z-10">Systems of Government</h1>
            <p class="text-xl font-light opacity-90 relative z-10">Analyzing Democracy in Canada</p>
            <div class="mt-6 inline-block bg-white/20 px-6 py-2 rounded-full text-sm font-semibold backdrop-blur-sm relative z-10">
                Grade 6 Social Studies
            </div>
        </header>

        <!-- SECTION 1: WHAT IS A SYSTEM? -->
        <section class="bg-white p-8 rounded-3xl shadow-sm border border-gray-100">
            <h2 class="text-3xl font-bold text-indigo-700 mb-6 border-b-4 border-amber-400 inline-block pb-1">1. The Concept of a System</h2>
            <p class="text-gray-600 mb-8 leading-relaxed text-lg">
                Before we understand government, we must understand a <strong>System</strong>. A system is a group of parts working together to make something function. Just like a hockey team needs a goalie, defense, and forwards to work, a society needs a government structure to provide safety and order.
            </p>

            <!-- HOCKEY ANALOGY -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-stretch mb-10">
                <div class="bg-indigo-50 p-6 rounded-2xl border border-indigo-100">
                    <h3 class="text-xl font-bold text-indigo-800 mb-6 text-center">Analogy: The Hockey Team</h3>
                    <div class="flex flex-col gap-4">
                        <div class="bg-white p-4 rounded-xl shadow-sm flex items-center gap-4 hover:shadow-md transition">
                            <span class="text-3xl">ü•Ö</span>
                            <div>
                                <span class="font-bold text-gray-800 block">Goalie</span>
                                <span class="text-sm text-gray-500">Stops Goals (Defense)</span>
                            </div>
                        </div>
                        <div class="h-6 w-1 bg-indigo-200 mx-auto rounded-full"></div>
                        <div class="bg-white p-4 rounded-xl shadow-sm flex items-center gap-4 hover:shadow-md transition">
                            <span class="text-3xl">üèí</span>
                            <div>
                                <span class="font-bold text-gray-800 block">Captain</span>
                                <span class="text-sm text-gray-500">Leads Strategy</span>
                            </div>
                        </div>
                        <div class="h-6 w-1 bg-indigo-200 mx-auto rounded-full"></div>
                        <div class="bg-white p-4 rounded-xl shadow-sm flex items-center gap-4 hover:shadow-md transition">
                            <span class="text-3xl">ü¶ì</span>
                            <div>
                                <span class="font-bold text-gray-800 block">Referee</span>
                                <span class="text-sm text-gray-500">Enforces Rules</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="flex flex-col gap-6 justify-center">
                    <div class="bg-emerald-50 p-6 rounded-2xl border-l-8 border-emerald-500 shadow-sm">
                        <h4 class="font-bold text-emerald-800 text-lg mb-2">Structure</h4>
                        <p class="text-emerald-700">Government systems provide leadership and laws so society doesn't collapse into chaos.</p>
                    </div>
                    <div class="bg-amber-50 p-6 rounded-2xl border-l-8 border-amber-500 shadow-sm">
                        <h4 class="font-bold text-amber-800 text-lg mb-2">Democracy</h4>
                        <p class="text-amber-800">A specific system where the "players" (citizens) have a voice in the game plan.</p>
                    </div>
                </div>
            </div>

            <!-- STUDENT REFLECTION INTERACTIVE -->
            <div class="bg-slate-50 p-6 rounded-2xl border-2 border-dashed border-slate-300">
                <h3 class="text-xl font-bold text-indigo-800 mb-4 flex items-center gap-2">
                    <i data-lucide="pen-tool"></i> Student Reflection
                </h3>
                <div class="space-y-6">
                    <div>
                        <label class="block text-sm font-bold text-gray-600 uppercase mb-2">1. What would happen to the game if there was no Referee (No laws)?</label>
                        <textarea class="w-full p-4 rounded-xl border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition bg-white" rows="3" placeholder="Type your thoughts here..."></textarea>
                    </div>
                    <div>
                        <label class="block text-sm font-bold text-gray-600 uppercase mb-2">2. What would happen if the Captain made all rules without asking the team?</label>
                        <textarea class="w-full p-4 rounded-xl border border-gray-300 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition bg-white" rows="3" placeholder="Type your thoughts here..."></textarea>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 3: JURISDICTION GAME -->
        <section class="bg-gray-900 text-white p-8 rounded-3xl shadow-xl overflow-hidden relative">
            <!-- Background pattern -->
            <div class="absolute inset-0 opacity-10" style="background-image: radial-gradient(#6366f1 1px, transparent 1px); background-size: 20px 20px;"></div>
            
            <div class="relative z-10">
                <div class="flex justify-between items-end mb-8">
                    <div>
                        <h2 class="text-3xl font-bold mb-2">3. Interactive: Sort the Responsibilities</h2>
                        <p class="text-gray-400">Drag each item to the correct level of government!</p>
                    </div>
                    <button onclick="resetDragGame()" class="bg-white/10 hover:bg-white/20 text-white px-4 py-2 rounded-lg text-sm transition">Reset Game</button>
                </div>

                <!-- DRAGGABLE ITEMS -->
                <div id="drag-source" class="flex flex-wrap gap-3 justify-center mb-8 bg-white/5 p-6 rounded-2xl min-h-[100px]">
                    <div class="draggable-item bg-white text-gray-800 px-4 py-2 rounded-full font-bold shadow-lg" draggable="true" data-type="federal">ü™ñ Military</div>
                    <div class="draggable-item bg-white text-gray-800 px-4 py-2 rounded-full font-bold shadow-lg" draggable="true" data-type="provincial">üè• Hospitals</div>
                    <div class="draggable-item bg-white text-gray-800 px-4 py-2 rounded-full font-bold shadow-lg" draggable="true" data-type="federal">üí∞ Money</div>
                    <div class="draggable-item bg-white text-gray-800 px-4 py-2 rounded-full font-bold shadow-lg" draggable="true" data-type="provincial">üõ£Ô∏è Highways</div>
                    <div class="draggable-item bg-white text-gray-800 px-4 py-2 rounded-full font-bold shadow-lg" draggable="true" data-type="federal">üìÆ Postal Service</div>
                    <div class="draggable-item bg-white text-gray-800 px-4 py-2 rounded-full font-bold shadow-lg" draggable="true" data-type="provincial">üè´ Schools</div>
                </div>

                <!-- DROP ZONES -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Federal Zone -->
                    <div class="drop-zone bg-indigo-900/50 border-2 border-indigo-500/50 rounded-2xl p-6 min-h-[200px]" data-zone="federal">
                        <div class="flex items-center justify-center gap-2 mb-4 text-indigo-300">
                            <i data-lucide="building-2"></i>
                            <h3 class="font-bold text-xl">Federal</h3>
                        </div>
                        <div class="zone-content flex flex-wrap gap-2 justify-center"></div>
                    </div>
                    
                    <!-- Provincial Zone -->
                    <div class="drop-zone bg-emerald-900/50 border-2 border-emerald-500/50 rounded-2xl p-6 min-h-[200px]" data-zone="provincial">
                        <div class="flex items-center justify-center gap-2 mb-4 text-emerald-300">
                            <i data-lucide="map"></i>
                            <h3 class="font-bold text-xl">Provincial</h3>
                        </div>
                        <div class="zone-content flex flex-wrap gap-2 justify-center"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 4: LEADERS INTERACTIVE MATCHING -->
        <section class="bg-white p-8 rounded-3xl shadow-sm border border-gray-100">
            <h2 class="text-3xl font-bold text-indigo-700 mb-6 border-b-4 border-amber-400 inline-block pb-1">4. Government Leaders</h2>
            <p class="text-gray-600 mb-8">Tap a leader, then tap their level to match them up.</p>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 max-w-4xl mx-auto" id="matching-game">
                
                <!-- Left Column: Leaders -->
                <div class="space-y-6">
                    <h3 class="text-center font-bold text-gray-400 uppercase tracking-wider text-sm">The Leaders</h3>
                    
                    <div class="match-card bg-indigo-50 p-6 rounded-2xl border-2 border-indigo-100 text-center" data-id="pm" onclick="selectCard(this, 'leader')">
                        <div class="text-4xl mb-3">üë®‚Äçüíº</div>
                        <h4 class="font-bold text-indigo-900 text-lg">Prime Minister</h4>
                        <p class="text-xs text-indigo-600 mt-2">"I lead the whole country."</p>
                    </div>

                    <div class="match-card bg-emerald-50 p-6 rounded-2xl border-2 border-emerald-100 text-center" data-id="premier" onclick="selectCard(this, 'leader')">
                        <div class="text-4xl mb-3">üë©‚Äçüíº</div>
                        <h4 class="font-bold text-emerald-900 text-lg">Premier</h4>
                        <p class="text-xs text-emerald-600 mt-2">"I lead the province."</p>
                    </div>
                </div>

                <!-- Right Column: Levels -->
                <div class="space-y-6">
                    <h3 class="text-center font-bold text-gray-400 uppercase tracking-wider text-sm">The Levels</h3>

                    <div class="match-card bg-emerald-600 text-white p-8 rounded-2xl shadow-md text-center flex flex-col items-center justify-center h-40" data-match="premier" onclick="selectCard(this, 'level')">
                        <h4 class="font-bold text-xl">PROVINCIAL</h4>
                        <span class="opacity-75 text-sm">Alberta</span>
                    </div>

                    <div class="match-card bg-indigo-600 text-white p-8 rounded-2xl shadow-md text-center flex flex-col items-center justify-center h-40" data-match="pm" onclick="selectCard(this, 'level')">
                        <h4 class="font-bold text-xl">FEDERAL</h4>
                        <span class="opacity-75 text-sm">Canada</span>
                    </div>
                </div>

            </div>
            
            <div id="match-feedback" class="text-center mt-6 font-bold text-xl h-8 text-transparent transition-colors">Good Job!</div>
        </section>

        <!-- SECTION 2: THE CROWN CONNECTION (Visual Only) -->
        <section class="bg-white p-8 rounded-3xl shadow-sm border border-gray-100">
            <h2 class="text-3xl font-bold text-indigo-700 mb-6 border-b-4 border-amber-400 inline-block pb-1">2. The Crown Connection</h2>
            
            <div class="flex flex-col items-center w-full max-w-3xl mx-auto">
                <!-- Level 1: The King -->
                <div class="bg-yellow-500 text-white p-4 rounded-xl shadow-lg w-64 text-center z-10 relative transform hover:scale-105 transition duration-300">
                    <div class="text-3xl mb-1">üëë</div>
                    <h3 class="font-bold text-lg uppercase tracking-wider">The Monarch</h3>
                    <p class="text-xs font-light mt-1 italic">King Charles III</p>
                </div>

                <div class="h-8 w-1 bg-gray-300"></div>
                <div class="w-full max-w-xl h-1 bg-gray-300 relative">
                    <div class="absolute left-1/4 h-6 w-1 bg-gray-300 top-0"></div>
                    <div class="absolute right-1/4 h-6 w-1 bg-gray-300 top-0"></div>
                </div>

                <div class="grid grid-cols-2 gap-8 w-full mt-6">
                    <div class="flex flex-col items-center group">
                        <div class="bg-indigo-600 text-white p-4 rounded-xl shadow-lg w-full text-center group-hover:-translate-y-1 transition duration-300">
                            <div class="text-2xl mb-1">üá®üá¶</div>
                            <h4 class="font-bold text-sm uppercase">Governor General</h4>
                        </div>
                    </div>

                    <div class="flex flex-col items-center group">
                        <div class="bg-emerald-600 text-white p-4 rounded-xl shadow-lg w-full text-center group-hover:-translate-y-1 transition duration-300">
                            <div class="text-2xl mb-1">üèîÔ∏è</div>
                            <h4 class="font-bold text-sm uppercase">Lieutenant Governor</h4>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 6: ACCOUNTABILITY CHART -->
        <section class="bg-white p-8 rounded-3xl shadow-sm border border-gray-100">
            <h2 class="text-3xl font-bold text-indigo-700 mb-6 border-b-4 border-amber-400 inline-block pb-1">6. Holding Power Accountable</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                <div class="h-[250px] w-full">
                    <canvas id="oppositionChart"></canvas>
                </div>
                <div class="bg-amber-50 p-6 rounded-2xl border-l-8 border-amber-400">
                    <h3 class="font-bold text-amber-900 mb-3 text-lg">The Official Opposition's Job:</h3>
                    <ul class="space-y-3 text-amber-800">
                        <li class="flex items-start gap-2">
                            <i data-lucide="help-circle" class="w-5 h-5 mt-1 shrink-0"></i>
                            <span><strong>Questioning:</strong> They force leaders to explain their choices.</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <i data-lucide="scale" class="w-5 h-5 mt-1 shrink-0"></i>
                            <span><strong>Alternatives:</strong> They offer different points of view.</span>
                        </li>
                    </ul>
                </div>
            </div>
        </section>

        <footer class="text-center pt-8 border-t border-gray-200">
            <p class="text-gray-400 text-sm font-medium">Created for Grade 6 Social Studies</p>
        </footer>

    </div>

    <script>
        // Initialize Icons
        lucide.createIcons();

        // --- CHART.JS ---
        const ctx = document.getElementById('oppositionChart').getContext('2d');
        new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ['Government', 'Opposition', 'Other'],
                datasets: [{
                    data: [172, 119, 47],
                    backgroundColor: ['#4338ca', '#f59e0b', '#9ca3af'],
                    borderWidth: 0,
                    hoverOffset: 10
                }]
            },
            options: {
                rotation: -90, circumference: 180, cutout: '65%',
                responsive: true, maintainAspectRatio: false,
                plugins: { 
                    legend: { position: 'bottom', labels: { usePointStyle: true, font: { size: 14 } } } 
                },
                animation: { animateScale: true, animateRotate: true }
            }
        });

        // --- DRAG AND DROP GAME LOGIC ---
        const draggables = document.querySelectorAll('.draggable-item');
        const dropZones = document.querySelectorAll('.drop-zone');
        const sourceContainer = document.getElementById('drag-source');

        draggables.forEach(draggable => {
            draggable.addEventListener('dragstart', () => {
                draggable.classList.add('dragging');
            });
            draggable.addEventListener('dragend', () => {
                draggable.classList.remove('dragging');
                checkDragWin();
            });
        });

        dropZones.forEach(zone => {
            zone.addEventListener('dragover', e => {
                e.preventDefault();
                zone.classList.add('drag-over');
            });

            zone.addEventListener('dragleave', () => {
                zone.classList.remove('drag-over');
            });

            zone.addEventListener('drop', e => {
                e.preventDefault();
                zone.classList.remove('drag-over');
                const draggable = document.querySelector('.dragging');
                const zoneType = zone.getAttribute('data-zone');
                const itemType = draggable.getAttribute('data-type');

                if (zoneType === itemType) {
                    // Correct Drop
                    zone.querySelector('.zone-content').appendChild(draggable);
                    draggable.classList.remove('bg-white', 'text-gray-800');
                    draggable.classList.add('bg-white/20', 'text-white', 'border', 'border-white/50', 'pop-anim');
                    // Remove drag capability once placed correctly
                    draggable.setAttribute('draggable', 'false');
                    draggable.style.cursor = 'default';
                } else {
                    // Incorrect Drop - Shake animation could go here
                    alert("Try again! That doesn't belong there.");
                }
            });
        });

        function checkDragWin() {
            const remaining = sourceContainer.querySelectorAll('.draggable-item').length;
            if (remaining === 0) {
                // Confetti or success message could trigger here
                console.log("All items sorted!");
            }
        }

        function resetDragGame() {
            const allItems = document.querySelectorAll('.draggable-item');
            allItems.forEach(item => {
                sourceContainer.appendChild(item);
                item.setAttribute('draggable', 'true');
                item.style.cursor = 'grab';
                item.classList.remove('bg-white/20', 'text-white', 'border', 'border-white/50', 'pop-anim');
                item.classList.add('bg-white', 'text-gray-800');
            });
        }

        // --- MATCHING GAME LOGIC ---
        let selectedLeader = null;
        let selectedLevel = null;

        function selectCard(card, type) {
            // If card is already matched, ignore
            if (card.classList.contains('matched')) return;

            // Deselect previous selection of same type
            const allCards = document.querySelectorAll('.match-card');
            allCards.forEach(c => {
                // Only modify selection of the same type (e.g. if we click a leader, reset other leader selections)
                if ((type === 'leader' && c.hasAttribute('data-id')) || 
                    (type === 'level' && c.hasAttribute('data-match'))) {
                    // But don't remove selection from the *other* type
                    if (type === 'leader' && c.getAttribute('data-id')) c.classList.remove('selected');
                    if (type === 'level' && c.getAttribute('data-match')) c.classList.remove('selected');
                }
            });

            // Select new card
            card.classList.add('selected');

            if (type === 'leader') selectedLeader = card;
            if (type === 'level') selectedLevel = card;

            // Check match
            if (selectedLeader && selectedLevel) {
                checkMatch();
            }
        }

        function checkMatch() {
            const leaderId = selectedLeader.getAttribute('data-id');
            const levelMatch = selectedLevel.getAttribute('data-match');
            const feedback = document.getElementById('match-feedback');

            if (leaderId === levelMatch) {
                // Match Found!
                selectedLeader.classList.add('matched', 'bg-green-100', 'border-green-300');
                selectedLevel.classList.add('matched', 'bg-green-600');
                selectedLeader.classList.remove('selected');
                selectedLevel.classList.remove('selected');
                
                feedback.textContent = "Correct Match! üéâ";
                feedback.className = "text-center mt-6 font-bold text-xl h-8 text-green-600 pop-anim";
                
                selectedLeader = null;
                selectedLevel = null;
            } else {
                // Wrong Match
                feedback.textContent = "Try again!";
                feedback.className = "text-center mt-6 font-bold text-xl h-8 text-red-500 pop-anim";
                
                setTimeout(() => {
                    selectedLeader.classList.remove('selected');
                    selectedLevel.classList.remove('selected');
                    selectedLeader = null;
                    selectedLevel = null;
                    feedback.textContent = "";
                }, 1000);
            }
        }
    </script>
</body>
</html>
