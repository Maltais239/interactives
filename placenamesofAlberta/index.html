<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Map of Alberta's Place Names</title>

    <!-- Leaflet CSS and JS for the interactive map -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

    <!-- Tailwind CSS for styling the page layout -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Poppins:wght@700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            overflow-y: auto;
        }
        h1 {
            font-family: 'Poppins', sans-serif;
        }
        #map {
            height: 650px; /* Increased height for better aspect ratio */
            width: 100%;
            border-radius: 0.75rem; /* rounded-xl */
            border: 1px solid #e2e8f0; /* slate-200 */
        }
        .leaflet-container {
            background-color: #ffffff; /* bg-white */
        }
        .info-panel {
            min-height: 650px;
            overflow-y: auto;
        }
        .legend {
            padding: 8px 10px;
            font: 14px/16px Arial, Helvetica, sans-serif;
            background: white;
            background: rgba(255,255,255,0.85);
            box-shadow: 0 0 15px rgba(0,0,0,0.2);
            border-radius: 5px;
            line-height: 20px;
            color: #555;
        }
        .legend i {
            width: 12px;
            height: 12px;
            float: left;
            margin-right: 8px;
            margin-top: 4px;
            border: 1px solid rgba(0,0,0,0.2);
        }
        .legend-circle { border-radius: 50%; }
        .legend-diamond { transform: rotate(45deg); }
    </style>
</head>
<body class="bg-slate-100 text-gray-800">

    <div class="w-full">
        <header class="text-center py-8 px-4 md:px-8">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-900 tracking-tight">Place Names of Alberta</h1>
            <p class="text-lg text-gray-600 mt-2">Stories of Francophone & First Nation Origins</p>
            <p class="text-sm text-gray-500 mt-1">Click a marker to discover the history behind the name.</p>
        </header>

        <!-- Changed grid to make map wider and added padding -->
        <main class="grid grid-cols-1 lg:grid-cols-4 gap-8 px-4 md:px-8">
            <!-- Map Container -->
            <div class="lg:col-span-3 bg-white p-4 rounded-xl shadow-lg">
                <div id="map"></div>
            </div>

            <!-- Information Panel -->
            <div class="lg:col-span-1 bg-white p-6 rounded-xl shadow-lg info-panel">
                <div id="info-panel-content">
                    <h2 class="text-2xl font-bold text-gray-900 mb-4">The Stories Behind the Names</h2>
                    <p class="text-gray-700">The names on this map reflect the deep history of Alberta, from the ancient languages of First Nations to the contributions of French-speaking explorers, missionaries, and settlers. Click a point to read its story.</p>
                     <div class="mt-8 p-4 bg-gray-50 border-t border-gray-200">
                        <h3 class="font-semibold text-gray-800 mb-2">Sources:</h3>
                        <ul class="list-disc list-inside text-sm text-gray-600 space-y-1">
                            <li><i>Place-Names of Alberta</i> (1928)</li>
                            <li><i>Geographic Names of Alberta</i> (1993)</li>
                            <li><i>Alberta Place Names</i> (T. Harrison, 2006)</li>
                            <li><i>Place Names of the Peavine and Big Prairie Areas</i> (2007)</li>
                        </ul>
                    </div>
                </div>
            </div>
        </main>
        
        <footer class="text-center py-8 px-4 md:px-8 text-gray-500 text-sm">
            <p>Made with Leaflet.js and Tailwind CSS.</p>
        </footer>
    </div>

    <script>
        // --- DATA ---
        // Expanded list with many more locations, including forts and new communities.
        const placeNameData = [
            { name: "Athabasca", type: "Community", coords: [54.7250, -113.2825], origin: "First Nation", story: "From the Woods Cree word 'aðapaskāw', meaning '[where] there are reeds one after another'. This name originally described the Peace-Athabasca Delta and was later applied to the river and the town." },
            { name: "Atikameg", type: "Community", coords: [55.85, -115.65], origin: "First Nation", story: "From the Cree word 'atikamek', meaning 'whitefish'. The community is located on the shores of Utikuma Lake, which is known for this type of fish." },
            { name: "Beauvallon", type: "Community", coords: [53.6494, -111.4556], origin: "Francophone", story: "French for 'beautiful valley', the name was suggested by a Mr. McInnis, a local teacher, and adopted when the post office opened in 1914." },
            { name: "Beaumont", type: "Community", coords: [53.3554, -113.4144], origin: "Francophone", story: "Meaning 'beautiful hill' in French, named in 1895 by colonists for the scenic hill on which the St. Vital Roman Catholic church was built." },
            { name: "Bon Accord", type: "Community", coords: [53.8333, -113.4167], origin: "Francophone", story: "French for 'goodwill' or 'good understanding'. The name was chosen by settler Homer McGregor, as it was the motto of his home city, Aberdeen, Scotland." },
            { name: "Bonnyville", type: "Community", coords: [54.2642, -110.7397], origin: "Francophone", story: "Named in 1907 in honour of Father Bonnin, an Oblate missionary who was instrumental in bringing French-Canadian settlers to the area." },
            { name: "Brazeau Reservoir", type: "Geological Feature", coords: [52.9, -115.5], origin: "Francophone", story: "The river and reservoir are named for Joseph Brazeau, a linguist and clerk with the Hudson's Bay Company in the mid-19th century." },
            { name: "Calgary", type: "Community", coords: [51.0447, -114.0719], origin: "First Nation", story: "While the official name is from Scotland, the Blackfoot name is 'Mohkínstsis' (Elbow), referring to the bend in the Bow River. This name is widely used by Indigenous peoples to refer to the city." },
            { name: "Chauvin", type: "Community", coords: [52.6433, -110.1500], origin: "Francophone", story: "Named after an early French settler, George Chauvin, who established a homestead and post office in the area in the early 1900s." },
            { name: "Falher", type: "Community", coords: [55.7333, -117.2000], origin: "Francophone", story: "Named in honour of Father Constant-Jean-Baptiste Falher, a Roman Catholic missionary from St. Malo, France, who served the area." },
            { name: "Fort Chipewyan", type: "Community", coords: [58.7142, -111.1557], origin: "First Nation", story: "'Chipewyan' is a Cree exonym for the Denesuline people, meaning 'pointed skins,' referring to their style of shirt. The fort, one of Alberta's oldest European settlements, was named for the local people." },
            { name: "Fort Macleod", type: "Community", coords: [49.7258, -113.4045], origin: "First Nation", story: "The fort was established by the North-West Mounted Police. The 'Macleod' honours Colonel James Macleod, but its location was chosen at a traditional crossing of the Oldman River, a site long used by the Blackfoot Confederacy." },
            { name: "Fort Saskatchewan", type: "Community", coords: [53.7119, -113.2131], origin: "First Nation", story: "The fort was built on the North Saskatchewan River. The river's name comes from the Cree 'Kisiskatchewani Sipi' (swift-flowing river). The fort took its name from this major First Nations transportation route." },
            { name: "Fort Vermilion", type: "Community", coords: [58.3845, -116.0353], origin: "First Nation", story: "One of Alberta's oldest settlements, founded by the North West Company. 'Vermilion' is a translation of the Cree name for the local red ochre or clay found on the river banks, which was used for paint and ceremony." },
            { name: "Grande Prairie", type: "Community", coords: [55.1709, -118.7967], origin: "Francophone", story: "French for 'large prairie'. Named by French-speaking Métis or Iroquois traders who were struck by the vast, open grassland amidst the northern forest." },
            { name: "Grouard", type: "Community", coords: [55.5139, -115.6033], origin: "Francophone", story: "Named for Father Émile Grouard, a Roman Catholic missionary who worked extensively with the First Nations and Métis people in northern Alberta." },
            { name: "Iosegun Lake", type: "Geological Feature", coords: [54.5833, -116.8333], origin: "First Nation", story: "From a Cree word meaning 'tail,' possibly describing the shape of the lake or a nearby hill." },
            { name: "Kananaskis", type: "Geological Feature", coords: [51.0825, -115.0292], origin: "First Nation", story: "Named by Captain John Palliser in 1858 after 'Kin-e-ah-kis', a Cree man who was the subject of a story of a miraculous recovery from an axe blow to the head." },
            { name: "Lac La Biche", type: "Community", coords: [54.7686, -111.9771], origin: "Francophone / First Nation", story: "A direct French translation of the Cree name 'Waskesiu Sakhahegan', meaning 'Elk Lake'. French-speaking voyageurs and fur traders adopted and translated the existing First Nations name." },
            { name: "Lac Ste. Anne", type: "Community", coords: [53.7142, -114.3986], origin: "Francophone / First Nation", story: "Originally called 'Manito Sakahigan' (Spirit Lake) by the Cree, it was renamed Lac Ste. Anne by the missionary Father Jean-Baptiste Thibault in 1844, who established a mission and pilgrimage site here." },
            { name: "Lacombe", type: "Community", coords: [52.4647, -113.7314], origin: "Francophone", story: "Named in honour of Father Albert Lacombe, the influential Oblate missionary who brokered peace between the Cree and Blackfoot and served as a negotiator during the construction of the Canadian Pacific Railway." },
            { name: "Leduc", type: "Community", coords: [53.2594, -113.5539], origin: "Francophone", story: "Named in 1891 for Father Hippolyte Leduc, an Oblate missionary who served the area for many years, after he established a church and settlement." },
            { name: "Legal", type: "Community", coords: [53.9536, -113.5936], origin: "Francophone", story: "Named in honour of Bishop Émile-Joseph Legal, a French missionary who became the first Archbishop of Edmonton." },
            { name: "Lesser Slave Lake", type: "Geological Feature", coords: [55.425, -115.45], origin: "First Nation", story: "A translation of the Cree name for the Dene people living around the lake, 'Awokanak' or 'Slavey'. It was misinterpreted by traders as 'slave'. 'Lesser' distinguishes it from Great Slave Lake." },
            { name: "Maligne Lake", type: "Geological Feature", coords: [52.6667, -117.5333], origin: "Francophone", story: "Named by Father Pierre-Jean De Smet in 1846. 'Maligne' is French for 'wicked' or 'evil', likely referring to the turbulent, treacherous river that flows from the lake." },
            { name: "Maskwacis", type: "Community", coords: [52.8833, -113.4500], origin: "First Nation", story: "The modern name for the community previously known as Hobbema. Maskwacis is the Cree word for 'Bear Hills' (maskwa-wachi), the traditional name for the area." },
            { name: "Medicine Hat", type: "Community", coords: [50.0421, -110.6775], origin: "First Nation", story: "A translation of the Blackfoot word 'Saamis', the eagle tail feather headdress of a medicine man. Legends connect the name to a vision or a battle where a medicine man's headdress was lost in the river." },
            { name: "Lake Minnewanka", type: "Geological Feature", coords: [51.2467, -115.3850], origin: "First Nation", story: "From the Stoney Nakoda language, meaning 'Lake of the Water Spirit' or 'Spirit Lake'. The area has deep spiritual significance." },
            { name: "Morinville", type: "Community", coords: [53.7992, -113.6511], origin: "Francophone", story: "Named for its founder, Father Jean-Baptiste Morin, who brought a group of French-Canadian and German settlers to the area in 1891." },
            { name: "Okotoks", type: "Community", coords: [50.7258, -113.9789], origin: "First Nation", story: "From the Blackfoot word 'Okatok', meaning 'rock'. The name refers to the Big Rock, a massive glacial erratic located just west of the town, which is a significant landmark in Blackfoot oral history." },
            { name: "Peace River", type: "Geological Feature", coords: [56.234, -117.29], origin: "First Nation", story: "Refers to a specific treaty, the 'Peace Point', made between the Cree and the Beaver (Dane-zaa) First Nations to end a long conflict. The river commemorates this historic agreement." },
            { name: "Pembina River", type: "Geological Feature", coords: [54.0, -114.5], origin: "Francophone / First Nation", story: "From the Cree word for the high-bush cranberry, 'nîpiniminân'. French-Canadian voyageurs adopted and shortened this to 'pembina'." },
            { name: "Plamondon", type: "Community", coords: [54.9083, -111.9833], origin: "Francophone", story: "Named for its founder, Father Jean-Baptiste Plamondon, who led a group of French-Canadian settlers to the area in 1908." },
            { name: "Ponoka", type: "Community", coords: [52.6797, -113.5786], origin: "First Nation", story: "From the Blackfoot word 'Ponoká', meaning 'Elk'. The town is located on the Battle River, which was a major hunting ground for elk." },
            { name: "Red Deer", type: "Community", coords: [52.269, -113.8115], origin: "Francophone / First Nation", story: "The city and river get their name from a mistranslation of the Cree name 'Waskasoo Seepee', which means 'Elk River'. Early European traders mistook the local elk for red deer." },
            { name: "Rivière Qui Barre", type: "Community", coords: [53.7758, -113.8058], origin: "Francophone", story: "French for 'the river that bars the way'. Early settlers named the river for the frequent log jams that would block passage." },
            { name: "St. Albert", type: "Community", coords: [53.6304, -113.6268], origin: "Francophone", story: "Named by Bishop Taché in 1861 in honour of Father Albert Lacombe, a famed Oblate missionary who founded the mission and was a pivotal figure in the history of the Métis and First Nations peoples." },
            { name: "St. Paul", type: "Community", coords: [53.9833, -111.2833], origin: "Francophone", story: "Originally founded as Saint-Paul-des-Métis in 1896 by Father Lacombe, it was intended as an exclusive Métis agricultural colony. The experiment later opened to general settlement and the name was shortened." },
            { name: "Smoky River", type: "Geological Feature", coords: [56.17, -117.84], origin: "First Nation", story: "Named from the Cree word for smoke, referring to the 'smoking' or misty appearance of the hills near its mouth, or possibly from underground coal seam fires that were once common in the area." },
            { name: "Wabasca River", type: "Geological Feature", coords: [56.0, -113.85], origin: "First Nation", story: "From the Cree 'Wapuskau', meaning 'white rapids', referring to the colour of the water flowing over limestone rapids." },
            { name: "Wapiti River", type: "Geological Feature", coords: [55.17, -118.6], origin: "First Nation", story: "From the Cree word 'Wâpiti', meaning 'elk'. The river valley has long been an important habitat and hunting ground for elk." },
            { name: "Wetaskiwin", type: "Community", coords: [52.9697, -113.3732], origin: "First Nation", story: "From the Cree word 'wītaskīwin-ispatinaw', meaning 'the hills where peace was made'. It commemorates a peace treaty made between the Cree and Blackfoot nations in 1867." }
        ];
        
        // --- MAP INITIALIZATION ---
        const map = L.map('map').setView([54.5, -115.0], 5.5);
        L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',
            subdomains: 'abcd',
            maxZoom: 20
        }).addTo(map);

        // --- INTERACTIVITY LOGIC ---
        function updateInfoPanel(place) {
            const infoContent = document.getElementById('info-panel-content');
            if (place) {
                const originColor = place.origin.includes('Francophone') ? 'text-blue-600' : 'text-green-600';
                infoContent.innerHTML = `
                    <h2 class="text-2xl font-bold text-gray-800 mb-1">${place.name}</h2>
                    <p class="font-semibold ${originColor} mb-3">${place.origin} Origin</p>
                    <p class="text-gray-700 mb-4">${place.story}</p>
                `;
            }
        }
        
        // --- Custom Icons ---
        const icons = {
            Community: {
                Francophone: L.divIcon({html: '<div style="background-color: #2563eb;" class="w-3 h-3 rounded-full border-2 border-white shadow-md"></div>', className: 'bg-transparent border-none', iconAnchor: [6, 6]}),
                'First Nation': L.divIcon({html: '<div style="background-color: #16a34a;" class="w-3 h-3 rounded-full border-2 border-white shadow-md"></div>', className: 'bg-transparent border-none', iconAnchor: [6, 6]}),
                'Francophone / First Nation': L.divIcon({html: '<div class="w-3 h-3 rounded-full border-2 border-white shadow-md" style="background: linear-gradient(45deg, #16a34a 50%, #2563eb 50%);"></div>', className: 'bg-transparent border-none', iconAnchor: [6, 6]})
            },
            'Geological Feature': {
                Francophone: L.divIcon({html: '<div style="background-color: #2563eb; transform: rotate(45deg);" class="w-3 h-3 border-2 border-white shadow-md"></div>', className: 'bg-transparent border-none', iconAnchor: [6, 6]}),
                'First Nation': L.divIcon({html: '<div style="background-color: #16a34a; transform: rotate(45deg);" class="w-3 h-3 border-2 border-white shadow-md"></div>', className: 'bg-transparent border-none', iconAnchor: [6, 6]}),
                'Francophone / First Nation': L.divIcon({html: '<div class="w-3 h-3 border-2 border-white shadow-md" style="background: linear-gradient(45deg, #16a34a 50%, #2563eb 50%); transform: rotate(45deg);"></div>', className: 'bg-transparent border-none', iconAnchor: [6, 6]})
            }
        };

        // --- DRAW MARKERS ---
        placeNameData.forEach(place => {
            const icon = icons[place.type][place.origin];
            const marker = L.marker(place.coords, { icon }).addTo(map);
            const popupContent = `<strong class="text-gray-800">${place.name}</strong>`;
            marker.bindPopup(popupContent);
            marker.on('click', () => {
                updateInfoPanel(place);
                map.flyTo(place.coords, 9, { animate: true, duration: 1 });
            });
        });

        // --- LEGEND ---
        const legend = L.control({position: 'bottomright'});
        legend.onAdd = function (map) {
            const div = L.DomUtil.create('div', 'info legend');
            div.innerHTML = '<b>Legend</b><br>' +
                '<table>' +
                '<tr><td><i class="legend-circle" style="background: #16a34a"></i></td><td>FN Origin (Community)</td></tr>' +
                '<tr><td><i class="legend-circle" style="background: #2563eb"></i></td><td>FR Origin (Community)</td></tr>' +
                '<tr><td><i class="legend-circle" style="background: linear-gradient(45deg, #16a34a 50%, #2563eb 50%);"></i></td><td>Mixed Origin (Community)</td></tr>' +
                '<tr><td><i class="legend-diamond" style="background: #16a34a"></i></td><td>FN Origin (Feature)</td></tr>' +
                '<tr><td><i class="legend-diamond" style="background: #2563eb"></i></td><td>FR Origin (Feature)</td></tr>' +
                '</table>';
            return div;
        };
        legend.addTo(map);
    </script>
</body>
</html>
